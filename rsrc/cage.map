tile "floor" { //1
	opacity=0 //0-3, least-to-most-opaque -- warning, what about glass floors?
  movement_default="allow"
	fore="#669900"
	symbol='.'
	desc="The moss and soil squish beneath your feet."
}

tile "wall" { //2
	opacity=0 //0-3, least-to-most-opaque
  movement_default="deny"
	fore="#FFFFFF"
	symbol='#'
	desc="The material is clear, but hard.  It stops you."
}

tile "shallow pool" { //3
  opacity=1
  action "splash" {
		on_enter
		/* once
		tile "shallow pool" {
		  opacity=0
		  fore="#FFFFFF"
		  symbol='.'
		  desc="All the water has been splashed out of the pool."
		} */
    grant "wet" {
      duration=60
    }
  }
  movement_default="allow"
  fore="#BBBBFF"
  symbol='~'
  desc="The water feels pleasant and cool."
}

tile "dry passage" { //4
  opacity=1
  movement_default="deny"
	movement {
		wet=true
	}
	/* could allow if both type a and type b are set:
	movement {
	        type_a=true
	        type_b=true
	}
	could allow if type a is set, but not type b:
	movement {
	        type_a=true
	        type_b=false
	}
	*/
  fore="#C0C0C0"
  symbol='#'
  //figure out the right way to do this stuff -- probably actions on enter in this case.
  //dry desc="There is a hole here.  It's almost big enough to fit through."
  //wet desc="The hole is muddy now.  You slide through."
}

tile "rock" { //5
  opacity=3
  movement_default="allow"
  fore="#C0C0C0"
  symbol='+'
  //need a distinction between "nudge desc" and "stand on desc"?
  //is "nudge" an action?
  desc="This rock takes up much of your cell.  The space behind it is invitingly dark."
}

tile "sidebranch" { //6
  opacity=3
  movement_default="deny"
  fore="#8A360F"
  symbol='#'
}

tile "stairs" { //7
  opacity=0
  movement_default="allow"
  fore="#FFFFFF"
  symbol='^'
}

tile "weakground" { //8
  opacity=0
  movement_default="allow"
  fore="#669900"
  symbol='.'
  desc="This spot slumps when you stand on it."
  //need this to start as a floor-door, and open to become empty space when triggered (landed on with weight)
  //this is distinct from wall-doors, which open to become floors when triggered.
  //in general, tiles will change their properties during actions.  probably shouldn't out-and-out swap indices,
  //but that would be easiest... if not, we potentially need to grant context to every tile index.
  //another approach is to have doors as objects.  this gets the per-door context that will be needed.
}

tile "topbranch" { //9
  opacity=0
  movement_default="allow"
  fore="#8A360F"
  symbol='.'
  desc="The branch is fun.  It's the most fun thing in the cell."
}
map "cage" {
  ambient_light=8 //out of 15
  dimensions=[12, 12, 3]
	tilemap=[ //tank level, two floors and an inaccessible roof
	  2,2,2,2,2,2,2,2,2,2,2,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,2,2,2,2,2,2,2,2,2,2,2,
	  
	  2,2,2,2,2,2,2,2,2,2,2,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,9,2,
	  2,0,0,0,0,0,0,0,0,0,9,2,
	  2,0,0,0,0,0,0,0,0,0,9,2,
	  2,0,0,0,0,0,0,0,0,0,0,2,
	  2,0,0,0,0,0,0,0,0,0,5,2,
	  2,0,0,0,0,0,0,0,0,5,5,2,
	  2,0,0,0,0,0,0,0,5,5,0,2,
	  2,0,0,0,0,0,0,5,5,5,0,2,
	  2,0,0,0,0,0,0,0,5,0,0,2,
	  2,2,2,2,2,2,2,2,2,2,2,2,
	  
	  2,2,2,2,2,2,2,2,2,2,2,2,
	  2,3,3,3,3,1,1,1,1,8,8,2,
	  2,3,3,3,3,1,1,1,1,6,6,2,
	  2,3,3,3,1,1,1,1,1,6,6,2,
	  2,3,3,1,1,1,1,1,1,6,6,2,
	  2,1,1,1,1,1,1,1,1,7,7,2,
	  2,1,1,1,1,1,1,1,1,5,5,2,
	  2,1,1,1,1,1,1,1,5,5,5,2,
	  2,1,1,1,1,1,1,5,5,5,1,2,
	  2,1,1,1,1,1,5,5,5,5,1,2,
	  2,1,1,1,1,1,1,4,4,1,1,2,
	  2,2,2,2,2,2,2,2,2,2,2,2
	]
}
